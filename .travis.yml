dist: trusty
sudo: required
language: java

before_install:
 - sudo apt-add-repository ppa:wpilib/toolchain -y
 - sudo apt-get update -q
install:
 - sudo apt-get install frc-toolchain -y
# Skip gradlew assemble since build is a superset

script:
 - ./gradlew build
 - du -sh Pathfinder-*
 - ls Pathfinder-Core/build
 - ls Pathfinder-Java/build
 - zip -9 -r built Pathfinder-Core/build
 - zip -9 -r built Pathfinder-Java/build
 # Taken from docs

before_cache:
 - rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
 - rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
    - $HOME/.gradle/caches/
    - $HOME/.gradle/wrapper/
